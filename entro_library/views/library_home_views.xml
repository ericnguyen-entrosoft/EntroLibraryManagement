<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Library Home View -->
    <record id="view_library_home" model="ir.ui.view">
        <field name="name">library.home.view</field>
        <field name="model">library.resource</field>
        <field name="arch" type="xml">
            <kanban class="o_library_home_view" create="false" edit="false" delete="false">
                <field name="id"/>
                <field name="name"/>
                <field name="code"/>
                <field name="policy"/>
                <field name="description"/>
                <field name="icon"/>
                <field name="color"/>
                <field name="book_count"/>
                <field name="available_book_count"/>
                <field name="borrowed_book_count"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click o_library_resource_card"
                             t-att-data-resource-id="record.id.raw_value">
                            <div class="o_kanban_card_header">
                                <div class="o_kanban_card_header_title">
                                    <div class="o_primary">
                                        <i t-attf-class="fa #{record.icon.raw_value} me-2"/>
                                        <strong><field name="name"/></strong>
                                    </div>
                                </div>
                            </div>
                            <div class="o_kanban_card_content mt-2">
                                <div class="text-muted">
                                    <small>
                                        <i class="fa fa-book"/> <field name="book_count"/> sách |
                                        <span class="text-success"><field name="available_book_count"/> có sẵn</span> |
                                        <span class="text-warning"><field name="borrowed_book_count"/> đang mượn</span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Library Home Action -->
    <record id="action_library_home" model="ir.actions.client">
        <field name="name">Tra cứu</field>
        <field name="tag">library_home</field>
    </record>

    <!-- Menu Item for Home -->
    <menuitem id="menu_library_home"
              name="Tra cứu"
              action="action_library_home"
              web_icon="entro_library,static/description/search_icon.png"
              sequence="0"/>

</odoo>
