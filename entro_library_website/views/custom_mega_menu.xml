<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Custom Mega Menu for Kho Tài Nguyên -->
    <template id="custom_library_mega_menu" name="Custom Library Mega Menu" inherit_id="website.navbar_nav">
        <xpath expr="." position="inside">
            <!-- Custom Mega Menu Item -->
            <li class="nav-item dropdown position-static">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Kho tài nguyên
                </a>
                <div class="dropdown-menu o_mega_menu shadow-lg" style="width: 100%; left: 0; padding: 2rem;">
                    <div class="container">
                        <div class="row">
                            <!-- COLUMN 1: SÁCH -->
                            <div class="col-md-6 mb-4">
                                <h5 class="dropdown-header text-primary">
                                    <i class="fa fa-book me-2"/>Sách
                                </h5>
                                <div class="ps-3">
                                    <a class="dropdown-item" href="/thu-vien">
                                        <i class="fa fa-list me-2"/>Tất cả sách
                                    </a>
                                    <hr class="my-2"/>
                                    <h6 class="dropdown-header small text-muted">Danh mục sách</h6>
                                    <a class="dropdown-item ps-4" href="/thu-vien/danh-muc/phat-hoc">
                                        <i class="fa fa-circle-o me-2"/>Khu Phật học
                                    </a>
                                    <a class="dropdown-item ps-4" href="/thu-vien/danh-muc/tong-hop">
                                        <i class="fa fa-circle-o me-2"/>Khu tổng hợp
                                    </a>
                                    <a class="dropdown-item ps-4" href="/thu-vien/danh-muc/ngoai-ngu">
                                        <i class="fa fa-circle-o me-2"/>Khu ngoại ngữ
                                    </a>
                                    <hr class="my-2"/>
                                    <h6 class="dropdown-header small text-muted">Cá nhân</h6>
                                    <a class="dropdown-item ps-4" href="/my/borrowings">
                                        <i class="fa fa-file-text-o me-2"/>Phiếu Mượn Của Tôi
                                    </a>
                                    <a class="dropdown-item ps-4" href="/my/borrowing-cart">
                                        <i class="fa fa-shopping-cart me-2"/>Giỏ Mượn Sách
                                    </a>
                                </div>
                            </div>

                            <!-- COLUMN 2: ĐA PHƯƠNG TIỆN -->
                            <div class="col-md-6 mb-4">
                                <h5 class="dropdown-header text-primary">
                                    <i class="fa fa-play-circle me-2"/>Đa phương tiện
                                </h5>
                                <div class="ps-3">
                                    <a class="dropdown-item" href="/media">
                                        <i class="fa fa-list me-2"/>Tất cả phương tiện
                                    </a>
                                    <hr class="my-2"/>
                                    <h6 class="dropdown-header small text-muted">Theo đối tượng</h6>
                                    <a class="dropdown-item ps-4" href="/media/chu-ni">
                                        <i class="fa fa-user me-2"/>Chư Ni
                                    </a>
                                    <a class="dropdown-item ps-4" href="/media/thien-sinh">
                                        <i class="fa fa-users me-2"/>Thiền sinh
                                    </a>
                                    <a class="dropdown-item ps-4" href="/media/phat-tu">
                                        <i class="fa fa-group me-2"/>Phật tử
                                    </a>
                                    <hr class="my-2"/>
                                    <h6 class="dropdown-header small text-muted">Theo loại</h6>
                                    <a class="dropdown-item ps-4" href="/media?media_type=video">
                                        <i class="fa fa-video-camera me-2"/>Video
                                    </a>
                                    <a class="dropdown-item ps-4" href="/media?media_type=audio">
                                        <i class="fa fa-music me-2"/>Âm thanh
                                    </a>
                                    <a class="dropdown-item ps-4" href="/media?media_type=image">
                                        <i class="fa fa-image me-2"/>Hình ảnh
                                    </a>
                                    <a class="dropdown-item ps-4" href="/media?media_type=document">
                                        <i class="fa fa-file-pdf-o me-2"/>Tài liệu
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </xpath>
    </template>

    <!-- Styling for Mega Menu -->
    <template id="custom_mega_menu_styles" inherit_id="website.assets_frontend">
        <xpath expr="." position="inside">
            <style>
                .o_mega_menu {
                    border-top: 3px solid #007bff;
                    margin-top: 0;
                }

                .o_mega_menu .dropdown-header {
                    font-weight: 600;
                    padding: 0.5rem 0;
                    margin-bottom: 0.5rem;
                }

                .o_mega_menu .dropdown-item {
                    padding: 0.5rem 1rem;
                    transition: all 0.2s;
                }

                .o_mega_menu .dropdown-item:hover {
                    background-color: #f8f9fa;
                    padding-left: 1.5rem;
                    color: #007bff;
                }

                .o_mega_menu hr {
                    opacity: 0.2;
                }
            </style>
        </xpath>
    </template>

</odoo>
