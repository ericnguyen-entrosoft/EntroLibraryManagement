<?xml version="1.0" ?>
<odoo>
    <!-- Form View Of Library Author -->
    <record id="author_form" model="ir.ui.view">
        <field name="name">library.author.form</field>
        <field name="model">library.author</field>
        <field name="arch" type="xml">
            <form string="Authors">
                <sheet>
                    <notebook>
                        <page string="General Information">
                            <group>
                                <field name="name" placeholder="Author Name" />
                            </group>
                            <separator string="Books" colspan="4" />
                            <field
                                name="book_ids"
                                nolabel="1"
                                colspan="4"
                                domain="[('categ_id.book_categ','=',True),('is_ebook','=',False),('availability','=','available')]"
                            />
                        </page>
                        <page string="More Information">
                            <separator string="Editors" colspan="4" />
                            <field name="editor_ids" nolabel="1" colspan="4" />
                            <separator string="Notes" colspan="4" />
                            <field name="note" nolabel="1" colspan="4" />
                            <separator string="Biography" colspan="4" />
                            <field name="biography" nolabel="1" colspan="4" />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree View Of Library Author -->
    <record id="author_tree" model="ir.ui.view">
        <field name="name">library.author.tree</field>
        <field name="model">library.author</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
            </tree>
        </field>
    </record>
    <!-- Search View Of Library Author -->
    <record id="author_search" model="ir.ui.view">
        <field name="name">library.author.search</field>
        <field name="model">library.author</field>
        <field name="arch" type="xml">
            <search string="Authors">
                <field name="name" />
            </search>
        </field>
    </record>
    <!-- Action Of Form & Tree Views Of Author -->
    <record id="action_author_list" model="ir.actions.act_window">
        <field name="name">Authors</field>
        <field name="res_model">library.author</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="author_search" />
    </record>

    <!-- Menu Items Of Library -->

    <menuitem
        id="menu_library"
        name="Thư viện"
        web_icon="school,static/description/menu_icons/icons_library.png"
        sequence="1"
        groups="library.group_librarian,group_userian"
    />
    <menuitem
        id="menu_library_config"
        name="Thiết lập"
        parent="library.menu_library"
        sequence="99"
        groups="library.group_librarian,group_userian"
    />

    <!-- Form View Of Product Book -->
    <record id="view_product_book_form" model="ir.ui.view">
        <field name="name">product.book.form.view</field>
        <field name="model">product.product</field>
        <field name="priority">16</field>
        <field name="arch" type="xml">
            <form string="Books">
                <header>
                    <button name="action_borrow_book" 
                            string="Mượn sách" 
                            type="object" 
                            class="oe_highlight"
                            groups="library.group_librarian,library.group_userian"/>
                    <button name="action_add_quantity" 
                            string="Thêm số lượng" 
                            type="object"
                            class="btn-secondary" 
                            groups="library.group_librarian"/>
                    <button name="action_print_barcode_labels" 
                            string="In nhãn mã vạch" 
                            type="object" 
                            class="btn-secondary"
                            groups="library.group_librarian"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button
                            name="action_update_quantity_on_hand"
                            type="object"
                            icon="fa-book"
                            groups="library.group_librarian"
                        >
                            <field
                                string="Vị trí"
                                name="qty_available"
                                widget="statinfo"
                            />
                        </button>
                        <button name="action_view_borrowing_transfers" 
                                type="object" 
                                icon="fa-exchange"
                                groups="library.group_librarian">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="borrowing_count"/>
                                </span>
                                <span class="o_stat_text">Phiếu mượn</span>
                            </div>
                        </button>
                        <button name="action_internal_transfer" 
                                type="object" 
                                icon="fa-arrows"
                                groups="library.group_librarian">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_text">Chuyển</span>
                                <span class="o_stat_text">kho</span>
                            </div>
                        </button>
                    </div>
                    <field name="image_1920" widget="image" class="oe_avatar" options="{'preview_image': 'image_128'}"/>
                    <div class="oe_title">
                        <label for="name" string="Tên sách"/>
                        <h1>
                            <field
                                name="name"
                                class="text-break"
                                options="{'line_breaks': False}" 
                                widget="text"
                                placeholder="Tên sách"
                            />
                        </h1>
                        <div name="options">
                            <span class="d-inline-flex">
                                <field name="sale_ok" string="Có thể bán"/>
                                <label for="sale_ok"/>
                            </span>
                            <span class="d-inline-flex">
                                <field name="purchase_ok" string="Có thể mua"/>
                                <label for="purchase_ok"/>
                            </span>
                        </div>
                    </div>
                    <group>
                        <group name="group_left">
                            <field name="isbn" placeholder="ISBN Number" />
                            <field
                                name="default_code"
                                placeholder="Enter Book Default code"
                            />
                            <field
                                name="barcode"
                                placeholder="Barcode e.g.5941246894325"
                            />
                            <field
                                name="categ_id"
                                placeholder="Select or Create Book"
                                options="{'no_create': True,}"
                                domain="[('book_categ','=',True)]"
                            />
                        </group>
                        <group name="group_right">
                            <field
                                name="author"
                                placeholder="Name of Author"
                                options="{'no_create': True,}"
                            />
                            <field name="list_price" string="Giá bán"/>
                            <field name="standard_price" string="Chi phí"/>
                            <field name="uom_id" groups="uom.group_uom"/>
                            <field name="type" invisible="1" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Thông tin chung">
                            <group>
                                <group name="group_general_left" string="Thông tin cơ bản">
                                    <field
                                        name="availability"
                                        invisible="is_ebook == True"
                                    />
                                    <field
                                        name="nbpage"
                                        placeholder="No of Page in books"
                                    />
                                    <field
                                        name="day_to_return_book"
                                        placeholder="Days of Returnning"
                                        required="is_ebook == False"
                                        invisible="is_ebook == True"
                                    />
                                    <field name="creation_date" />
                                    <field name="tome" />
                                    <field name="format" placeholder="Format of Book" />
                                    <field name="weight" invisible="is_ebook == True" />
                                    <field
                                        name="rack"
                                        placeholder="Position of book"
                                        options="{'no_create': True,}"
                                        invisible="is_ebook == True"
                                    />
                                </group>
                                <group name="group_general_right" string="Thông tin bổ sung">
                                    <field name="back" />
                                    <field
                                        name="num_edition"
                                        placeholder="No of Addition of Book"
                                    />
                                    <field
                                        name="catalog_num"
                                        placeholder="Enter Catalog No"
                                    />
                                    <field
                                        name="lang"
                                        placeholder="Language of Book"
                                        options="{'no_create': True,}"
                                    />
                                    <field name="is_ebook" />
                                    <field
                                        name="is_subscription"
                                        invisible="is_ebook == False"
                                    />
                                    <field
                                        name="subscrption_amt"
                                        required="is_subscription == True"
                                        invisible="is_ebook == False"
                                    />
                                    <field
                                        name="attach_ebook"
                                        required="is_ebook == True"
                                        invisible="is_ebook == False"
                                    />
                                </group>
                            </group>
                        </page>
                        <page string="Tác giả">
                            <field name="editor_ids" />
                        </page>
                        <page string="Quy định phạt">
                            <group>
                                <field name="fine_lost" string="Fine Lost" />
                                <field
                                    name="fine_late_return"
                                    string="Fine amount if late return"
                                />
                            </group>
                        </page>
                        <page string="Số serial">
                            <group>
                                <field name="total_lots" readonly="1"/>
                                <field name="available_lots" readonly="1"/>
                                <field name="tracking" readonly="1"/>
                            </group>
                            <field name="lot_ids" nolabel="1">
                                <tree>
                                    <field name="name" readonly="1"/>
                                    <field name="library_barcode" readonly="1"/>
                                    <field name="create_date" readonly="1"/>
                                    <field name="product_qty" readonly="1"/>
                                    <button name="action_print_barcode_label" 
                                            type="object" 
                                            string="In nhãn" 
                                            icon="fa-print"
                                            title="In nhãn mã vạch"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Mô tả">
                            <field
                                name="description"
                                colspan="4"
                                nolabel="1"
                                placeholder="Enter Description About Book"
                            />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree View Of Product Book -->
    <record id="view_product_book_tree" model="ir.ui.view">
        <field name="name">product.book.tree.view</field>
        <field name="model">product.product</field>
        <field name="priority" eval="1" />
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="uom_id" />
                <field name="categ_id" />
                <field name="barcode" />
                <field name="catalog_num" />
                <field name="date_retour" />
                <field
                    name="availability"
                    widget="badge"
                    decoration-danger="availability == 'available'"
                    decoration-success="availability == 'notavailable'"
                />
            </tree>
        </field>
    </record>
    <!-- KanBan View Of Books -->
    <record id="books_kanban_view" model="ir.ui.view">
        <field name="name">Book Kanban View</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name" />
                <field name="author" />
                <field name="books_available" />
                <field name="image_1920" />
                <field name="id" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click" style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 8px; margin: 4px; height: auto;">
                            <!-- Book Image -->
                            <div class="o_kanban_image text-center" style="margin-bottom: 6px;">
                                <img t-att-src="kanban_image('product.product', 'image_1920', record.id.raw_value)" 
                                     alt="Book Cover" 
                                     style="max-height: 70px; max-width: 100%; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1);"/>
                            </div>
                            
                            <!-- Book Details -->
                            <div class="oe_kanban_details">
                                <!-- Book Name -->
                                <div class="o_kanban_record_title text-center" style="margin-bottom: 4px;">
                                    <strong style="font-size: 12px; color: #2c3e50; line-height: 1.1;">
                                        <field name="name" />
                                    </strong>
                                </div>
                                
                                <!-- Author -->
                                <div class="text-center" style="margin-bottom: 4px; color: #7f8c8d; font-size: 10px;">
                                    <i class="fa fa-user" style="margin-right: 2px;"/>
                                    <span t-if="record.author.raw_value">
                                        <field name="author" />
                                    </span>
                                    <span t-if="!record.author.raw_value" style="font-style: italic;">
                                        Chưa có tác giả
                                    </span>
                                </div>
                                
                                <!-- Number of books available -->
                                <div class="text-center">
                                    <div t-attf-class="badge {{ record.books_available.raw_value > 0 ? 'bg-success' : 'bg-danger' }}" 
                                         style="font-size: 10px; padding: 2px 6px; color:white">
                                        <i class="fa fa-book" style="margin-right: 2px;"/>
                                        <field name="books_available" /> có thể mượn
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Form View Of Book Attachment -->
    <record id="attachment_form_id" model="ir.ui.view">
        <field name="name">attachement.form</field>
        <field name="model">book.attachment</field>
        <field name="arch" type="xml">
            <form string="Attachment">
                <field name="name" />
                <!-- <field name="product_id"/> -->
                <field name="date" />
                <field name="attachment" widget="image" />
            </form>
        </field>
    </record>
    <!-- Tree View Of Book Attachment -->
    <record id="attachment_tree_id" model="ir.ui.view">
        <field name="name">attachement.tree</field>
        <field name="model">book.attachment</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="date" />
            </tree>
        </field>
    </record>
    <!-- Action Of Product Book List -->
    <record id="action_product_book_list" model="ir.actions.act_window">
        <field name="name">Sách</field>
        <field name="res_model">product.product</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="view_id" ref="books_kanban_view" />
        <field name="context">{'search_default_book':1,'default_type':'product'}</field>
    </record>
    <!-- Menu Items Of Library Books -->
    <menuitem
        id="menu_library_config"
        name="Thiết lập"
        parent="library.menu_library"
        sequence="99"
    />
    <menuitem
        id="menu_books_student"
        parent="menu_library"
        action="action_product_book_list"
        sequence="71"
        groups="school.group_school_administration,school.group_school_student,library.group_librarian,library.group_userian"
    />

    <!-- Action for Borrowing Transfers -->
    <record id="action_borrowing_transfers" model="ir.actions.act_window">
        <field name="name">Phiếu mượn sách</field>
        <field name="res_model">stock.picking</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_book_borrowing', '=', True)]</field>
        <field name="context">{
            'search_default_picking_type_id': False,
            'search_default_available': False,
            'default_is_book_borrowing': True,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Chưa có phiếu mượn sách nào!
            </p>
            <p>
                Tại đây bạn có thể quản lý tất cả các phiếu mượn sách trong thư viện.
                Sử dụng nút "Mượn sách" trên form sách để tạo phiếu mượn mới.
            </p>
        </field>
    </record>

    <!-- Menu Item for Borrowing Transfers -->
    <menuitem
        id="menu_borrowing_transfers"
        name="Quản lý mượn sách"
        parent="menu_library"
        action="action_borrowing_transfers"
        sequence="72"
        groups="library.group_librarian,library.group_userian"
    />
    <!-- Action Of Form View Of View Book -->
    <record id="action_view_book" model="ir.actions.act_window.view">
        <field name="sequence" eval="3" />
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_product_book_form" />
        <field name="act_window_id" ref="action_product_book_list" />
    </record>
    <!--  Action of Kanban View -->
    <record id="action_viewbook3_kanban" model="ir.actions.act_window.view">
        <field name="sequence" eval="1" />
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="books_kanban_view" />
        <field name="act_window_id" ref="action_product_book_list" />
    </record>
    <!-- Action Of Tree View Of View Book -->
    <record id="action_view_book2" model="ir.actions.act_window.view">
        <field name="sequence" eval="2" />
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_product_book_tree" />
        <field name="act_window_id" ref="action_product_book_list" />
    </record>
    <!-- Tree View Of Account Invoice -->
    <record id="invoice_tree" model="ir.ui.view">
        <field name="name">account.move.tree</field>
        <field name="model">account.move</field>
        <field name="priority" eval="1" />
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="move_type" />
                <field name="invoice_date" />
                <field name="invoice_date_due" />
                <field name="partner_id" />
                <field name="amount_untaxed" />
                <field name="amount_total" />
                <field name="currency_id" />
                <field name="state" />
            </tree>
        </field>
    </record>
    <!-- Tree View Of Stock Picking -->
    <record id="vpicktree" model="ir.ui.view">
        <field name="name">stock.picking.tree</field>
        <field name="model">stock.picking</field>
        <field name="priority" eval="1" />
        <field name="arch" type="xml">
            <tree>
                <field name="name" colspan="3" />
                <field name="date" />
                <field name="origin" />
                <field name="state" readonly="1" />
                <field name="date_done" readonly="1" />
            </tree>
        </field>
    </record>
    <!-- Form View Of Library Card Details -->
    <record id="product_card_form_view" model="ir.ui.view">
        <field name="name">library.card.form</field>
        <field name="model">library.card</field>
        <field name="arch" type="xml">
            <form string="Card Details">
                <header>
                    <button
                        name="running_state"
                        type="object"
                        string="Confirm"
                        invisible="state == 'running'"
                        groups="library.group_librarian"
                    />
                    <button
                        name="draft_state"
                        type="object"
                        string="Draft State"
                        invisible="state == 'draft'"
                        groups="library.group_librarian"
                    />
                    <button
                        name="action_print_library_card"
                        type="object"
                        string="In thẻ thư viện"
                        invisible="state != 'running'"
                        class="btn-primary"
                        groups="library.group_librarian"
                    />
                    <field name="state" widget="statusbar" readonly="1" />
                </header>
                <sheet>
                    <separator string="Card Details" colspan="4" col="4" />
                    <group col="4" colspan="4">
                        <field name="code" placeholder="Code" readonly="1" />
                        <field name="book_limit" readonly="state == 'running'" />
                        <field name="user" required="1" readonly="state == 'running'" />
                        <field name="card_name" string="Card Name" />
                    </group>
                    <separator string="Membership Details" />
                    <group col="4" colspan="4">
                        <field
                            name="start_date"
                            string="Start Date"
                            required="1"
                            readonly="state == 'running'"
                        />
                        <field
                            name="duration"
                            string="Duration (Months)"
                            required="1"
                            readonly="state == 'running'"
                        />
                        <field name="end_date" />
                    </group>
                    <separator string="Contact Information" />
                    <group col="4" colspan="4">
                        <field name="partner_id" string="Liên hệ" help="Thông tin liên hệ của người sở hữu thẻ"/>
                        <field name="user_id" string="Tài khoản" help="Tài khoản đăng nhập của người sở hữu thẻ"/>
                        <field name="card_barcode" string="Mã vạch" readonly="1"/>
                        <field name="has_user_account" invisible="1"/>
                    </group>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_create_user_account" 
                                type="object" 
                                class="oe_stat_button" 
                                icon="fa-user-plus"
                                invisible="has_user_account"
                                string="Tạo tài khoản"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree View Of Library Card Details -->
    <record id="product_card_tree_view" model="ir.ui.view">
        <field name="name">library.card.tree</field>
        <field name="model">library.card</field>
        <field name="arch" type="xml">
            <tree>
                <field name="code" />
                <field name="user" />
                <field name="book_limit" />
                <field name="card_name" />
                <field name="state" />
            </tree>
        </field>
    </record>
    <!-- Search View Of Library Card Details -->
    <record id="product_card_search_view" model="ir.ui.view">
        <field name="name">library.card.search</field>
        <field name="model">library.card</field>
        <field name="arch" type="xml">
            <search string="Card Details">
                <field name="code" />
                <field name="user" />
                <field name="card_name" />
            </search>
        </field>
    </record>
    <!-- Actions Of Form & Tree Views Of Library Card Details -->
    <record id="action_card_info" model="ir.actions.act_window">
        <field name="name">Thẻ mượn sách</field>
        <field name="res_model">library.card</field>
        <field name="view_mode">tree,form</field>
    </record>
    <!-- Menu Item Of Library Card -->
    <menuitem
        id="menu_card_main"
        parent="menu_library"
        action="action_card_info"
        sequence="74"
        groups="school.group_school_administration,school.group_school_student,school.group_school_teacher,library.group_librarian,library.group_userian"
    />

    <!-- Form view Of Product Language -->
    <record id="product_lang_form_view" model="ir.ui.view">
        <field name="name">product.lang.form</field>
        <field name="model">product.lang</field>
        <field name="arch" type="xml">
            <form string="Product Languages">
                <sheet>
                    <separator string="Languages" />
                    <group col="4" colspan="2">
                        <field name="code" placeholder="Language Code" string="Code" />
                        <field name="name" placeholder="Language Name" string="Name" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree view Of Product Language -->
    <record id="product_lang_tree_view" model="ir.ui.view">
        <field name="name">product.lang.tree</field>
        <field name="model">product.lang</field>
        <field name="arch" type="xml">
            <tree>
                <field name="code" />
                <field name="name" />
            </tree>
        </field>
    </record>
    <!-- Action Of Form & Tree Views Of Product Language -->
    <record id="action_lang" model="ir.actions.act_window">
        <field name="name">Languages</field>
        <field name="res_model">product.lang</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">tree,form</field>
    </record>
    <!-- Menu Item Of Product Language -->
    <menuitem
        id="menu_library_config"
        name="Thiết lập"
        parent="library.menu_library"
        sequence="99"
    />
    <menuitem
        id="menu_lang"
        parent="menu_library_config"
        action="action_lang"
        groups="school.group_school_administration,library.group_librarian"
    />
    <!-- Form View Of Library Editor -->
    <record id="book_editor_form" model="ir.ui.view">
        <field name="name">book.editor.form</field>
        <field name="model">book.editor</field>
        <field name="arch" type="xml">
            <form string="Authors">
                <sheet>
                    <field
                        name="image"
                        widget="image"
                        class="oe_avatar"
                        options="{'preview_image':'image_512'}"
                    />
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only" />
                        <h1>
                            <field name="name" placeholder="Employee's Name" />
                        </h1>
                    </div>
                    <group col="4" colspan="4">
                        <group col="2" colspan="2">
                            <label for="street" string="Address" />
                            <div class="o_address_format">
                                <field
                                    name="street"
                                    placeholder="Street..."
                                    class="o_address_street"
                                />
                                <field
                                    name="street2"
                                    placeholder="Street 2..."
                                    class="o_address_street"
                                />
                                <field
                                    name="city"
                                    placeholder="City"
                                    class="o_address_city"
                                />
                                <field
                                    name="state_id"
                                    class="o_address_state"
                                    placeholder="State"
                                    options="{'no_open': True}"
                                    context="{'country_id': country_id, 'zip': zip}"
                                />
                                <field
                                    name="zip"
                                    placeholder="ZIP"
                                    class="o_address_zip"
                                />
                                <field
                                    name="country_id"
                                    placeholder="Country"
                                    class="o_address_country"
                                    options="{'no_open': True, 'no_create': True}"
                                />
                            </div>
                            <field
                                name="website"
                                widget="url"
                                placeholder="e.g. www.odoo.com"
                            />
                        </group>
                        <group col="2" colspan="2">
                            <field name="title" />
                            <field name="phone" />
                            <field name="mobile" />
                            <field name="fax" />
                        </group>
                    </group>
                    <field name="biography" colspan="4" placeholder="Biography" />
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree View Of Library Editor -->
    <record id="editor_tree" model="ir.ui.view">
        <field name="name">book.editor.tree</field>
        <field name="model">book.editor</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
            </tree>
        </field>
    </record>
    <!-- Search View Of Library Author -->
    <record id="editor_search" model="ir.ui.view">
        <field name="name">book.editor.search</field>
        <field name="model">book.editor</field>
        <field name="arch" type="xml">
            <search string="Authors">
                <field name="name" />
            </search>
        </field>
    </record>
    <!-- Form View Of Res Partner -->
    <record id="view_partner_form_11" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field eval="1" name="priority" />
        <field name="arch" type="xml">
            <form string="Partners">
                <sheet>
                    <field
                        name="image_1920"
                        widget="image"
                        class="oe_left oe_avatar"
                        options="{'preview_image': 'image_512', 'size': [90, 90]}"
                    />
                    <div class="oe_title">
                        <div class="oe_edit_only">
                            <label for="name" />
                            (
                            <field
                                name="is_company"
                                on_change="onchange_type(is_company)"
                                class="oe_inline"
                            /><label for="is_company" string="Is a Company?" />
                            )
                        </div>
                        <h1>
                            <field name="name" default_focus="1" placeholder="Name" />
                        </h1>
                        <field
                            name="parent_id"
                            placeholder="Company"
                            domain="[('is_company', '=', True)]"
                            context="{'default_is_company': True}"
                            invisible="is_company == True"
                            on_change="onchange_address(use_parent_address, parent_id)"
                        />
                        <field
                            name="category_id"
                            widget="many2many_tags"
                            placeholder="Tags..."
                        />
                    </div>
                    <div class="oe_right oe_button_box" name="buttons" />
                    <group>
                        <group>
                            <label for="type" invisible="parent_id == False" />
                            <div invisible="parent_id == False" name="div_type">
                                <field class="oe_inline" name="type" />
                                <label for="use_parent_address" class="oe_edit_only" />
                                <field
                                    name="use_parent_address"
                                    string="Use Parent Address"
                                    class="oe_edit_only oe_inline"
                                    on_change="onchange_address(use_parent_address, parent_id)"
                                />
                            </div>
                            <label for="street" string="Address" />
                            <div>
                                <field name="street" placeholder="Street..." />
                                <field name="street2" />
                                <div class="address_format">
                                    <field
                                        name="city"
                                        placeholder="City"
                                        style="width: 40%%"
                                    />
                                    <field
                                        name="state_id"
                                        class="oe_no_button"
                                        placeholder="State"
                                        style="width: 37%%"
                                        options="{'no_open': True}"
                                        on_change="onchange_state(state_id)"
                                    />
                                    <field
                                        name="zip"
                                        placeholder="ZIP"
                                        style="width: 20%%"
                                    />
                                </div>
                                <field
                                    name="country_id"
                                    placeholder="Country"
                                    class="oe_no_button"
                                    options="{'no_open': True}"
                                />
                            </div>
                            <field
                                name="website"
                                widget="url"
                                placeholder="e.g. www.openerp.com"
                            />
                        </group>
                        <group>
                            <field
                                name="function"
                                placeholder="e.g. Sales Director"
                                invisible="is_company == True"
                            />
                            <field name="phone" placeholder="e.g. +32.81.81.37.00" />
                            <field name="mobile" />
                            <field name="email" widget="email" />
                            <field
                                name="title"
                                groups="base.group_no_one"
                                options="{'no_open': True}"
                                invisible="is_company == True"
                            />
                        </group>
                    </group>
                    <notebook colspan="4">
                        <page string="Contacts" invisible="is_company == False">
                            <field
                                name="child_ids"
                                context="{'default_parent_id': active_id}"
                                mode="kanban"
                            >
                                <kanban>
                                    <field name="id" />
                                    <field name="color" />
                                    <field name="name" />
                                    <field name="title" />
                                    <field name="type" />
                                    <field name="email" />
                                    <field name="parent_id" />
                                    <field name="is_company" />
                                    <field name="function" />
                                    <field name="phone" />
                                    <field name="street" />
                                    <field name="street2" />
                                    <field name="zip" />
                                    <field name="city" />
                                    <field name="country_id" />
                                    <field name="mobile" />
                                    <field name="state_id" />
                                    <field name="image_128" />
                                    <field name="lang" />
                                    <!-- fields in form x2many view to diminish requests -->
                                    <field name="comment" />
                                    <field name="display_name" />
                                    <templates>
                                        <t t-name="kanban-box">
                                            <t
                                                t-set="color"
                                                t-value="kanban_color(record.color.raw_value)"
                                            />
                                            <div
                                                t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'"
                                            >
                                                <div class="o_kanban_image">
                                                    <img
                                                        t-if="record.image_128.raw_value"
                                                        alt="Image"
                                                        t-att-src="kanban_image('res.partner', 'image_128', record.id.raw_value)"
                                                    />
                                                    <t
                                                        t-if="!record.image_128.raw_value"
                                                    >
                                                        <img
                                                            alt="Delivery"
                                                            t-if="record.type.raw_value === 'delivery'"
                                                            t-att-src="_s + &quot;/base/static/img/truck.png&quot;"
                                                        />
                                                        <img
                                                            alt="Invoice"
                                                            t-if="record.type.raw_value === 'invoice'"
                                                            t-att-src="_s + &quot;/base/static/img/money.png&quot;"
                                                        />
                                                        <t
                                                            t-if="record.type.raw_value !== 'invoice' &amp;&amp; record.type.raw_value !== 'delivery'"
                                                        >
                                                            <img
                                                                alt="Logo"
                                                                t-if="record.is_company.raw_value === true"
                                                                t-att-src="_s + &quot;/base/static/img/company_image.png&quot;"
                                                            />
                                                            <img
                                                                alt="Avatar"
                                                                t-if="record.is_company.raw_value === false"
                                                                t-att-src="_s + &quot;/base/static/img/avatar.png&quot;"
                                                            />
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="oe_kanban_details">
                                                    <field name="name" />
                                                    <div
                                                        t-if="record.function.raw_value"
                                                    >
                                                        <field name="function" />
                                                    </div>
                                                    <div t-if="record.email.raw_value">
                                                        <field
                                                            name="email"
                                                            widget="email"
                                                        />
                                                    </div>
                                                    <div
                                                        t-if="record.type.raw_value != 'contact'"
                                                    >
                                                        <div>
                                                            <field name="zip" />
                                                            <field name="city" />
                                                        </div>
                                                        <field
                                                            t-if="record.state_id.raw_value"
                                                            name="state_id"
                                                        />
                                                        <field name="country_id" />
                                                    </div>
                                                    <div
                                                        t-if="record.phone.raw_value"
                                                    >Phone: <field name="phone" /></div>
                                                    <div
                                                        t-if="record.mobile.raw_value"
                                                    >Mobile: <field
                                                            name="mobile"
                                                        /></div>
                                                </div>
                                            </div>
                                        </t>
                                    </templates>
                                </kanban>
                                <form string="Contact">
                                  <field
                                        name="image_1920"
                                        widget="image"
                                        class="oe_avatar oe_left"
                                        options="{'image_preview': 'image_512'}"
                                    />
                                    <div class="oe_title">
                                        <group>
                                            <field name="name" />
                                            <field
                                                name="category_id"
                                                widget="many2many_tags"
                                                placeholder="Tags..."
                                            />
                                            <field
                                                name="function"
                                                placeholder="e.g. Sales Director"
                                            />
                                            <field name="email" />
                                            <field name="phone" />
                                            <field name="mobile" />
                                        </group>
                                    </div>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Form View Of Library Editor Supplier -->
    <record id="library_editor_supplier_form1" model="ir.ui.view">
        <field name="name">library.editor.supplier</field>
        <field name="model">library.editor.supplier</field>
        <field name="arch" type="xml">
            <form string="Editor and suppliers relations">
                <sheet>
                    <group>
                        <field
                            name="name"
                            required="1"
                            context="{'form_view_ref':'library.view_partner_form_11'}"
                        />
                        <field name="supplier_id" required="1" />
                        <field name="sequence" string="Sequence" />
                        <field name="delay" />
                        <field name="min_qty" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Tree View Of Library Editor Supplier -->
    <record id="library_editor_supplier_tree" model="ir.ui.view">
        <field name="name">Editor - supplier realtions</field>
        <field name="model">library.editor.supplier</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="supplier_id" />
                <field name="sequence" />
                <field name="delay" />
                <field name="junk" />
            </tree>
        </field>
    </record>
    <!-- Search View Of Library Editor Supplier -->
    <record id="library_editor_supplier_search" model="ir.ui.view">
        <field name="name">Editor - supplier realtions</field>
        <field name="model">library.editor.supplier</field>
        <field name="arch" type="xml">
            <search string="Editor and suppliers relations">
                <field name="name" />
                <field name="supplier_id" />
                <field name="sequence" />
                <field name="delay" />
                <field name="junk" />
            </search>
        </field>
    </record>
    <!-- Overwritten Tree View Of Stock Move -->
    <record id="stock.view_move_tree" model="ir.ui.view">
        <field name="name">stock.move.tree</field>
        <field name="model">stock.move</field>
        <field name="priority" eval="6" />
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="product_id" />
                <field name="origin_ref" />
                <field name="product_uom_qty" />
                <field name="location_id" />
                <field name="location_dest_id" />
                <field name="date" />
                <field name="state" />
                <field name="product_uom" />
                <field name="name" />
                <field name="company_id" invisible="1" />
                <field name="product_uom_category_id" invisible="1" />
            </tree>
        </field>
    </record>
    <!-- Search View Of Product Book Search -->
    <record id="view_product_book_search" model="ir.ui.view">
        <field name="name">product.book.search.view</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <search string="Assignment Information">
                <filter
                    name="book"
                    string="Sách"
                    domain="[('categ_id.book_categ', '=', True)]"
                />
                <separator orientation="vertical" />
                <field name="name" />
            </search>
        </field>
    </record>
    <!-- Inherited Form View Of Product Supplier Info -->
    <record id="product_supplierinfo_form_view" model="ir.ui.view">
        <field name="name">product.supplierinfo.form.view</field>
        <field name="inherit_id" ref="product.product_supplierinfo_form_view" />
        <field name="model">product.supplierinfo</field>
        <field name="arch" type="xml">
            <field name="partner_id" domain="[('supplier','=',True)]" />
        </field>
    </record>
    <!-- Inherited Form View Of Account Invoice Line -->
    <record id="view_invoice_line_form" model="ir.ui.view">
        <field name="name">account.inovice.line.form</field>
        <field name="inherit_id" ref="account.view_move_form" />
        <field name="model">account.move</field>
        <field name="arch" type="xml">
            <field name="discount" position="after">
                <field name="customer_ref" select="1" />
                <field name="lot_id" select="1" />
            </field>
        </field>
    </record>
    <!-- Menu Item Of Author -->
    <menuitem
        id="author_menu"
        name="Tác giả"
        parent="menu_library_config"
        action="action_author_list"
        groups="school.group_school_administration,library.group_librarian"
    />
    <!-- Inherit Form View of Product Category -->
    <record id="library_book_product_category_inherit" model="ir.ui.view">
        <field name="name">library.product.categ.inherit</field>
        <field name="model">product.category</field>
        <field name="inherit_id" ref="product.product_category_form_view" />
        <field name="arch" type="xml">
            <field name="parent_id" position="after">
                <field name="book_categ" />
            </field>
        </field>
    </record>
    <!-- SearchView of product category -->
    <record id="library_book_product_category_inherit_search" model="ir.ui.view">
        <field name="name">library.product.categ.inherit.search</field>
        <field name="model">product.category</field>
        <field name="inherit_id" ref="product.product_category_search_view" />
        <field name="arch" type="xml">
            <field name="parent_id" position="after">
                <field name="book_categ" />
                <group expand="0" string="Group By" colspan="12" col="10">
                    <filter
                        name="book_categ"
                        string="Book Category"
                        help="By State"
                        domain="[('book_categ','=',True)]"
                    />
                </group>
            </field>
        </field>
    </record>

    <!-- Lots/Serial Numbers Menu -->
    <menuitem id="menu_stock_lots"
              name="Số serial sách"
              parent="menu_library_config"
              action="stock.action_production_lot_form"
              sequence="95"
              groups="school.group_school_administration,library.group_librarian"/>

    <!-- Inventory Valuation Menu -->
    <menuitem id="menu_valuation"
              name="Vị trí"
              parent="library.menu_library"
              action="stock.action_view_quants"
              sequence="96"
              groups="library.group_librarian"/>

</odoo>
